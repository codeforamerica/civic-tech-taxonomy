
<html lang="en">
	<head>
	<title>Civic Tech Taxonomy</title>

	<link rel='icon' href='cfa-favicon.png' type='image/x-icon'/ >
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
	<script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>

	<style type="text/css">
	li.jstree-leaf > a .jstree-icon { display: none; }
	</style>

	</head>

	
	<body style="font-family:Arial">

	<H2><center>Taxonomy Viewer</center></H2>
	These are all the topics retrieved by the CfA Index crawler and their manually associated synonyms.
	<br>
	This is a draft/prototype, check the <a href="https://github.com/codeforamerica/civic-tech-taxonomy/issues" target="new">project repo</a> 
	or the <a href="https://codeforamerica.github.io/civic-tech-taxonomy/" target="new">tool documentation</a> 
	or the <a href="https://brigade.cloud/projects/civic-tech-taxonomy/" target="new">project documentation</a>if you are interested in learning more or contribute.
	<hr>
	<table border=0 width="80%">
	<tr>
	<td valign="top">
	This is how items are being classified in the codeforamerica github <a href="https://github.com/codeforamerica/civic-tech-taxonomy/tree/master/taxonomies" target="new">Taxonomy repo</a>.
	<br>
	This tree is populated from the json returned by the Taxonomy API at <a href="https://api.taxonomy.sandbox.k8s.brigade.cloud/taxonomy">https://api.taxonomy.sandbox.k8s.brigade.cloud/taxonomy</a>
	<br>
	<br>
	Categorization is still a working in progress, changes needs to be done via PR in the <a href="https://github.com/codeforamerica/civic-tech-taxonomy/tree/master/taxonomies" target="new">repo</a>
	and ideally one day with a tool/idea like a <a href="editor.html">graphical editor</a>.
	<br>
	<i><p style='font-size: smaller;'>Empty folders are because there is a category in the taxonomy project but we didn't find a good use of it yet.</p></i>
	</td>
	</tr>
	<tr>
	<td>
	<hr><label>Search <input id="search-input" class="search-input" /></label>
	</td>
	</tr>
	<tr>
	<td valign="top"><hr><div id="taxonomy_jstree"></div></td>
	</tr>
	</table>

	<br>

	</body>

	<script type="text/javascript">


	$.getJSON( "https://api.taxonomy.sandbox.k8s.brigade.cloud/taxonomy", function( data ) {
		$('#taxonomy_jstree').jstree({ 'core' : {
			"check_callback": false,
			"multiple": false,
			"data" : data
		},
		"plugins": ["search"],
		"search": {
			"case_sensitive": false,
			"show_only_matches": true
		}})
		.on("hover_node.jstree",function(e,data){
			if(data.node.parent != "#") {
				$("#"+data.node.id).prop("title", data.node.id);
			}
		})
	});

	$(document).ready(function () {
		$(".search-input").keyup(function () {
			var searchString = $(this).val();
			$('#taxonomy_jstree').jstree('search', searchString);
		});

		$(".search").keypress(function () {
			var keycode = (event.keyCode ? event.keyCode : event.which);
			if(keycode == "13") {
				var searchString2 = $(this).val();
				$('#orphans_jstree').jstree('search', searchString2);
			}
		});
	});



	</script>

	</html>