
<html>
<head>
<title>CfA Taxonomy</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
<script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>	

<style type="text/css">	
li.jstree-leaf > a .jstree-icon { display: none; }
</style>

</head>

<body style="font-family:Arial">
<!--
<a href="organizations.php">Organizations</a>&nbsp;
<a href="taxonomy.php">Taxonomy</a>&nbsp;
<a href="taxonomy3.php">Taxonomy Tree DB</a>&nbsp;
<a href="taxonomy2.html">Taxonomy Tree API</a>&nbsp;
<a href="topics.php">Topics</a>&nbsp;
<a href="projects.php">Projects</a>&nbsp;
<a href="https://statusboard.brigade.cloud/api/taxonomy.json">API</a>
-->

<H2><center>Taxonomy</center></H2>
These are all the topics retrieved by the CfA Index crawler and their manually associated synonyms.
<br>

<i>Empty folders are because there is a file in the taxonomy project but I didn't find a good use of it.</i>
<br>
<br>

<!-- Initialize jsTree -->
<table width="80%">
<tr>
<td width="50%" valign="top">
This is how items are being classified in the codeforamerica github <a href="https://github.com/codeforamerica/civic-tech-taxonomy" target="new">Taxonomy</a> repo.
<br>
This tree is populated from the json returned by the Taxonomy API at <a href="https://cfa-taxonomy.herokuapp.com/taxonomy">https://cfa-taxonomy.herokuapp.com/taxonomy</a>
</td>
<td width="50%" valign="top">
These are the items retrieved from the Crawler that have not been classified in the Taxonomy yet.
This tree is populated from the json returned by the Taxonomy API at <a href="https://cfa-taxonomy.herokuapp.com/not_assigned_topics2">https://cfa-taxonomy.herokuapp.com/not_assigned_topics2</a>
</td>
</tr>
<tr>
<td><hr><input id="search-taxonomy" class="search-input" /></td>
<td><hr><input id="search-orphans" class="search-input" /></td>
</tr>
<tr>
<td valign="top"><hr><div id="taxonomy_jstree"></div></td>
<td valign="top"><hr><div id="orphans_jstree"></div></td>
</tr>
</table>

<br>

</body>

<script type="text/javascript">

$(document).ready(function () {
	$(".search-taxonomy").keyup(function () {
		var searchString = $(this).val();
		$('#taxonomy_jstree').jstree('search', searchString);
	});
	$(".search-orphans").keyup(function () {
		var searchString2 = $(this).val();
		$('#orphans_jstree').jstree('search', searchString2);
	});
});

$.getJSON( "https://cfa-taxonomy.herokuapp.com/taxonomy", function( data ) {
	$('#taxonomy_jstree').jstree({ 'core' : {
		'data' : data
	} });
	
	"plugins": ["search", "dnd", "contextmenu"],
	"search": {
		"case_sensitive": false,
		"show_only_matches": true
	},
	
	$("#folder_jstree").on('select_node.jstree', function(e, data){
		   data.instance.toggle_node(data.selected);
	 });
 
});

$.getJSON( "https://cfa-taxonomy.herokuapp.com/not_assigned_topics2", function( data ) {
	$('#orphans_jstree').jstree({ 'core' : {
		'data' : data
	} });
	
	"plugins": ["search", "dnd", "contextmenu"],
	"search": {
		"case_sensitive": false,
		"show_only_matches": true
	},
	$("#folder_jstree2").on('select_node.jstree', function(e, data){
		   data.instance.toggle_node(data.selected);
	 });
 
});

</script>

</html>